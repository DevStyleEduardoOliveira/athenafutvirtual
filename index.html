<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ATHENA ‚Äì  Ferramentas PRO</title>

<style>
/* ===== RESET ===== */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', Roboto, Arial, sans-serif;
}
html, body {
  height: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #0b0c10;
  color: #fff;
}

/* ===== BODY ===== */
body {
  padding: 20px;
}
.container-main {
  display: flex;
  gap: 20px;
  max-width: 1200px;
  margin: auto;
  flex-wrap: wrap;
}
.left-panel { flex: 1; min-width: 280px; }
.right-panel { width: 300px; min-width: 280px; }

/* ===== CARDS ===== */
.card {
  background: linear-gradient(145deg, #121417, #1c1e23);
  padding: 20px;
  border-radius: 15px;
  margin-bottom: 20px;
  box-shadow: 0 4px 15px rgba(10, 255, 157, 0.2);
  transition: transform 0.2s, box-shadow 0.2s;
}
.card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(10, 255, 157, 0.4);
}
h2, h3, h4 {
  color: #0aff9d;
  margin-bottom: 12px;
  font-weight: 600;
}

/* ===== BUTTONS ===== */
button {
  padding: 10px 15px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 600;
  background: linear-gradient(90deg, #0aff9d, #00ffc1);
  color: #000;
  transition: all 0.2s;
}
button:hover {
  opacity: 0.9;
  transform: translateY(-2px);
}
button.small-btn { font-size: 14px; padding: 6px 10px; }
button[data-danger] { background: linear-gradient(90deg, #ff3b3b, #ff6b6b); color: #fff; }

/* ===== INPUTS ===== */
input, select {
  width: 100%;
  padding: 12px;
  margin-bottom: 12px;
  border-radius: 12px;
  border: 1px solid #0aff9d44;
  background: #1a1c20;
  color: #fff;
  font-size: 14px;
  transition: all 0.2s;
}
input:focus, select:focus {
  border-color: #00ffc1;
  outline: none;
  box-shadow: 0 0 8px rgba(10, 255, 157, 0.5);
}

/* ===== TABLE ===== */
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 12px;
  font-size: 14px;
}
th, td {
  border: 1px solid #0aff9d22;
  padding: 8px;
  text-align: left;
}
th { background: #0aff9d11; }
tr:hover { background: #0aff9d10; }

/* ===== MUTED TEXT ===== */
.muted { color: #aaa; font-size: 13px; }
.result-box div { margin-top: 6px; }

/* ===== LOADING ===== */
#loadingScreen {
  position: fixed;
  width: 100%;
  height: 100%;
  background: #0b0c10;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  top: 0;
  left: 0;
  z-index: 9999;
}
.loader {
  border: 6px solid #222;
  border-top: 6px solid #0aff9d;
  border-radius: 50%;
  width: 70px;
  height: 70px;
  animation: spin 1s linear infinite;
}
@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }
.loading-text { color: #fff; margin-top: 15px; font-size: 18px; }

/* ===== BOT√ÉO FLUTUANTE MODERNO COM √çCONE ===== */
.floating-whatsapp {
  position: fixed;
  bottom: 25px;
  right: 25px;
  background: linear-gradient(45deg, #25D366, #128C7E);
  color: #fff;
  font-weight: bold;
  font-size: 16px;
  padding: 15px 25px;
  border-radius: 50px;
  text-decoration: none;
  box-shadow: 0 0 20px #25D36677, 0 0 40px #128C7E55, 0 0 60px #25D36633;
  display: flex;
  align-items: center;
  gap: 10px;
  justify-content: center;
  z-index: 9999;
  cursor: pointer;
  animation: pulse 2s infinite;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* HOVER ANIMADO */
.floating-whatsapp:hover {
  transform: scale(1.1);
  box-shadow: 0 0 30px #25D366aa, 0 0 60px #128C7E88, 0 0 90px #25D36655;
}

/* √çCONE */
.wa-icon {
  font-size: 20px;
}

/* TEXTO COM EFEITO DE BRILHO */
.wa-text {
  position: relative;
  text-transform: uppercase;
  animation: glow 1.5s ease-in-out infinite alternate;
}

@keyframes glow {
  0% {
    text-shadow: 0 0 5px #25D366, 0 0 10px #25D36655, 0 0 15px #25D36633;
  }
  50% {
    text-shadow: 0 0 10px #25D366cc, 0 0 20px #128C7E88, 0 0 30px #25D36655;
  }
  100% {
    text-shadow: 0 0 5px #25D366, 0 0 10px #25D36655, 0 0 15px #25D36633;
  }
}

/* PULSO DO BOT√ÉO */
@keyframes pulse {
  0% { box-shadow: 0 0 20px #25D36677, 0 0 40px #128C7E55, 0 0 60px #25D36633; }
  50% { box-shadow: 0 0 30px #25D366aa, 0 0 60px #128C7E88, 0 0 90px #25D36655; }
  100% { box-shadow: 0 0 20px #25D36677, 0 0 40px #128C7E55, 0 0 60px #25D36633; }
}

/* ===== RESPONSIVE ===== */
@media (max-width: 900px) {
  .container-main { flex-direction: column; }
  .right-panel { width: 100%; }
}
@media (max-width: 500px) {
  body { padding: 10px; }
  input, select, button { font-size: 14px; padding: 8px; }
  h2,h3,h4 { font-size: 18px; }
  table { font-size: 12px; }
}

/* ===== VIP BENEFITS ===== */
.vip-benefits-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 18px;
  margin-top: 12px;
}

.vip-card {
  background: linear-gradient(145deg, #111111, #0a1c1b);
  border: 2px solid #0aff9d55;
  border-radius: 15px;
  padding: 20px;
  text-align: center;
  color: #fff;
  box-shadow: 0 0 10px #0aff9d33;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.vip-card:hover {
  transform: translateY(-6px) scale(1.03);
  box-shadow: 0 0 15px #0aff9d66, 0 0 25px #0aff9d44;
}

.vip-icon {
  font-size: 40px;
  margin-bottom: 10px;
  text-shadow: 0 0 8px #0aff9d;
  display: inline-block;
}

.vip-card h4 {
  color: #0aff9d;
  margin-bottom: 8px;
}

.vip-card p {
  font-size: 14px;
  color: #ccc;
  line-height: 1.4;
}

/* RESPONSIVE */
@media (max-width: 600px) {
  .vip-card {
    padding: 16px;
  }
  .vip-icon {
    font-size: 32px;
  }
  .vip-card h4 {
    font-size: 16px;
  }
  .vip-card p {
    font-size: 13px;
  }
}

/* ===== VIP FORM MODERNO ===== */
#vipForm {
  background: linear-gradient(135deg, #0aff9d10, #0a6cff10);
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 4px 25px rgba(10, 175, 255, 0.2);
  max-width: 500px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
  transition: all 0.3s ease;
}

#vipForm label {
  font-weight: bold;
  color: #0aff9d;
  margin-bottom: 4px;
  display: block;
}

#vipForm input[type="text"],
#vipForm input[type="tel"],
#vipForm input[type="email"],
#vipForm input[type="number"] {
  padding: 12px;
  border-radius: 10px;
  border: 1px solid #0aff9d55;
  background: #111;
  color: #fff;
  font-size: 14px;
  transition: border 0.3s, box-shadow 0.3s;
}

#vipForm input:focus {
  outline: none;
  border-color: #0a6cff;
  box-shadow: 0 0 10px rgba(10, 106, 255, 0.5);
}

#vipForm button[type="submit"] {
  padding: 12px;
  border-radius: 10px;
  border: none;
  background: linear-gradient(90deg, #0aff9d, #0a6cff);
  color: #000;
  font-weight: bold;
  cursor: pointer;
  font-size: 16px;
  transition: all 0.3s ease;
}

#vipForm button[type="submit"]:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(10, 175, 255, 0.4);
}

#vipStatus {
  text-align: center;
  font-size: 14px;
  font-weight: bold;
  color: #0aff9d;
  margin-top: 12px;
}

/* ===== RESPONSIVIDADE ===== */
@media (max-width: 600px){
  #vipForm {
    padding: 15px;
  }
  #vipForm button[type="submit"] {
    font-size: 14px;
  }
}

.plans-container {
  display:flex;
  gap:20px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top:20px;
}

.plan-card {
  background: #111;
  border-radius:15px;
  padding:20px;
  flex:1 1 280px;
  max-width:320px;
  text-align:center;
  box-shadow:0 4px 20px rgba(10,175,255,0.2);
  transition: transform 0.3s, box-shadow 0.3s;
}

.plan-card:hover {
  transform: translateY(-5px);
  box-shadow:0 8px 30px rgba(10,175,255,0.4);
}

.plan-card .plan-icon {
  font-size:40px;
  margin-bottom:12px;
}

.plan-card h4 {
  color:#0aff9d;
  margin-bottom:10px;
}

.plan-card p {
  font-size:14px;
  color:#ccc;
  margin-bottom:10px;
}

.plan-card button {
  padding:10px 15px;
  background: linear-gradient(90deg, #0aff9d, #0a6cff);
  border:none;
  border-radius:10px;
  color:#000;
  font-weight:bold;
  cursor:pointer;
  transition: all 0.3s ease;
}

.plan-card button:hover {
  transform: translateY(-2px);
  box-shadow:0 6px 15px rgba(10,175,255,0.4);
}

/* Responsivo */
@media(max-width:768px){ .plans-container{ flex-direction:column; gap:15px; } }

.locked-content {
  position: relative;
  filter: blur(4px);
  pointer-events: none;
  user-select: none;
}

.locked-content::after {
  content: "üîí Conte√∫do VIP - Liberar acesso";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #0aff9d;
  font-size: 18px;
  font-weight: bold;
  text-shadow: 0 0 8px #0aff9d;
  pointer-events: auto;
  cursor: pointer;
  background: rgba(0,0,0,0.6);
  padding: 10px 20px;
  border-radius: 12px;
}

.locked-content {
  position: relative;
  filter: blur(4px);
  pointer-events: none;
  user-select: none;
  transition: filter 0.3s ease;
}

.locked-content::after {
  content: "üîí Conte√∫do VIP - Liberar acesso";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #0aff9d;
  font-size: 18px;
  font-weight: bold;
  text-shadow: 0 0 8px #0aff9d;
  pointer-events: auto;
  cursor: pointer;
  background: rgba(0,0,0,0.6);
  padding: 10px 20px;
  border-radius: 12px;
  text-align: center;
}

.locked-content {
  position: relative;
  filter: blur(4px);
  pointer-events: none;
  user-select: none;
  transition: filter 0.3s ease;
}

.locked-content::after {
  content: "üîí Conte√∫do VIP - Liberar acesso";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #0aff9d;
  font-size: 18px;
  font-weight: bold;
  text-shadow: 0 0 8px #0aff9d;
  background: rgba(0,0,0,0.6);
  padding: 10px 20px;
  border-radius: 12px;
  cursor: pointer;
  text-align: center;
  pointer-events: auto; /* permite clicar */
}


</style>
</head>
<!-- ===== LOGIN VIP MODAL ===== -->
<div id="vipLoginModal" class="modal">
  <div class="modal-content">
    <span id="closeVipLogin" class="close">&times;</span>
    <h3>Login VIP</h3>
    <form id="vipLoginForm">
      <input type="email" id="vipLoginEmail" placeholder="Seu e-mail" required>
      <input type="text" id="vipLoginWhatsApp" placeholder="WhatsApp" required>
      <button type="submit">Entrar</button>
    </form>
    <div id="vipLoginMsg" style="margin-top: 10px; font-weight: bold;"></div>
  </div>
</div>

<!-- Bot√£o para abrir modal VIP -->
<button onclick="openVipLogin()" class="small-btn">Login VIP</button><br><br>

<body>

<!-- ===== TELA DE LOADING ===== -->
<div id="loadingScreen">
  <div class="loader"></div>
  <div class="loading-text">Carregando...</div>
</div>

<script>
setTimeout(()=>{ document.getElementById("loadingScreen").style.display="none"; },1500);
</script>

<!-- ===== MAIN CONTAINER ===== -->
<div class="container-main">
  <div class="left-panel">

    <!-- HOME / BANK -->
    <section class="card card-section" id="home">
      <h2>ATHENA ‚Äì Ferramentas PRO</h2>
      <label>Banca atual:</label>
      <input type="number" id="bankInput" placeholder="0.00"/>
      <label>Divis√£o da banca:</label>
      <select id="bankSplit">
        <option value="conserv">Conservador (1%)</option>
        <option value="agress">Moderado (1,5%)</option>
      </select>
      <button id="saveBankBtn">Salvar banca</button>
      <div class="result-box" style="margin-top:12px">
        <div><strong>Banca:</strong> R$ <span id="bankDisplay">0.00</span></div>
        <div><strong>Stake inicial:</strong> R$ <span id="baseStakeDisplay">0.00</span></div>
        <div><strong>Status VIP:</strong> <span id="vipFlag">GR√ÅTIS</span></div>
      </div>
    </section>

    <!-- ===== DUTCHING 2 SELE√á√ïES ===== -->
<section class="card card-section" id="dutchingSection">
  <h3>Calculadora de Dutching (2 sele√ß√µes)</h3>
  <p class="muted">Distribua sua banca entre 2 sele√ß√µes. <span style="color: #eeff06;">Mais sele√ß√µes dispon√≠veis apenas na vers√£o VIP</span>.</p>

  <label>Sele√ß√£o 1 - Odd:</label>
  <input type="number" id="odd1" step="0.01" placeholder="Ex: 2.10">
  
  <label>Sele√ß√£o 2 - Odd:</label>
  <input type="number" id="odd2" step="0.01" placeholder="Ex: 3.50">

  <label>valor da stake</label>
  <input type="number" id="dutchBank" placeholder="0.00">

  <button id="calcDutchBtn">Calcular Dutching</button>
  <div id="dutchResult" class="muted" style="margin-top:8px;"></div>
</section>

<script>
function calcDutching(odd1, odd2, totalBank){
  const stake1 = (totalBank / ((1/odd1)+(1/odd2))) / odd1;
  const stake2 = (totalBank / ((1/odd1)+(1/odd2))) / odd2;
  const totalStake = stake1 + stake2;
  const retorno1 = stake1 * odd1;
  const retorno2 = stake2 * odd2;
  const lucro = retorno1 - totalStake;
  return {stake1, stake2, lucro};
}

document.getElementById("calcDutchBtn").addEventListener("click",()=>{
  const o1 = parseFloat(document.getElementById("odd1").value);
  const o2 = parseFloat(document.getElementById("odd2").value);
  const bank = parseFloat(document.getElementById("dutchBank").value);
  const resultDiv = document.getElementById("dutchResult");

  if(isNaN(o1) || isNaN(o2) || isNaN(bank) || o1<=1 || o2<=1 || bank<=0){
    resultDiv.textContent = "Preencha todos os campos com valores v√°lidos.";
    return;
  }

  // Limite de 2 sele√ß√µes
  const maxSelections = 2;
  if(maxSelections < 2){
    resultDiv.textContent = "Mais sele√ß√µes dispon√≠veis apenas na vers√£o VIP!";
    return;
  }

  const res = calcDutching(o1, o2, bank);
  resultDiv.innerHTML = `
    üí∏ Stake Sele√ß√£o 1: R$ ${res.stake1.toFixed(2)}<br>
    üí∏ Stake Sele√ß√£o 2: R$ ${res.stake2.toFixed(2)}<br>
    üèÜ Lucro potencial: R$ ${res.lucro.toFixed(2)}
  `;
});
</script>


    <!-- Se√ß√£o DE ESTRAT√âGIA -->
    <section class="card card-section">
      <h3>Estrat√©gias</h3>
      <label>Selecione estrat√©gia:</label>
      <select id="strategySelect">
        <option value="both">AMBAS MARCAM</option>
        <option value="over35">Over 3.5</option>
        <option value="under15">Under 1.5</option>
      </select>
      <button id="calcStratBtn">Calcular rodadas</button>
      <button id="resetStratBtn">Reiniciar sequ√™ncia</button>
      <div id="roundsBox" style="margin-top:10px;"></div>
      <label>Rodada WIN (indique qual a rodada do green ou RED):</label>
      <select id="winRoundSelect"></select>
      <label>Odd WIN (odd que bateu seu green):</label>
      <input type="number" id="winOdd" step="0.01"/>
      <button id="applyWinRoundBtn" style="background-color: #0aff9d;">Registrar WIN</button>
      <button id="applyLossBtn" class="small-btn" style="background:#ff3b3b">Registrar LOSS</button>
      <div id="stratMsg" class="muted"></div>
    </section>

    <!-- HISTORY -->
    <section id="history" class="card card-section">
      <h3>Hist√≥rico</h3>
      <table>
        <thead><tr><th>Data</th><th>Estrat√©gia</th><th>Odd DO GREEN</th><th>Resultado</th><th>Banca</th></tr></thead>
        <tbody id="historyTbody"></tbody>
      </table>
      <button id="clearHistoryBtn" class="small-btn">Limpar hist√≥rico</button><br><br>
      <div class="muted">Aqui ficam salvos suas apostas com hor√°rio atualizado para voc√™ acompanhar seu progresso dia p√≥s dia.</div>
    </section>

    <section class="card card-section" id="vipPlansSection">
  <h3 style="color:#0aff9d; text-align:center;">Escolha seu plano de acesso</h3>
  <div class="plans-container">
    <div class="plan-card">
      <div class="plan-icon">üíª</div>
      <h4>Plano Site Premium</h4>
      <p>Acesso completo √†s ferramentas do site (estrat√©gias, hist√≥rico e registro de WIN/LOSS).</p>
      <p><strong>Valor:</strong> R$ 27/m√™s</p>
      <button>Assinar Plano</button>
    </div>
    <div class="plan-card">
      <div class="plan-icon">üìö</div>
      <h4>Plano VIP Sinais</h4>
      <p>Inclui todos os benef√≠cios do site premium + acesso a conte√∫dos exclusivos de sinais, e-books e estrat√©gias profissionais.</p>
      <p><strong>Benef√≠cio:</strong> Libera√ß√£o autom√°tica ap√≥s aquisi√ß√£o da sala de sinais.</p>
      <button>Como adquirir</button>
    </div>
  </div>
</section>


   <!-- ===== SE√á√ÉO BENEF√çCIOS VIP ===== -->
<section id="vipBenefits" class="card card-section">
  <h3 style="text-align:center; color:#0aff9d; margin-bottom:20px;">Benef√≠cios da √Årea VIP</h3>
  
  <div class="vip-benefits-container">
    <div class="vip-card">
      <div class="vip-icon">üí∞</div>
      <h4>Lucros Altos</h4>
      <p>Acesse por 02 meses a melhor sala de estrat√©gias de over 3,5 GOLS + AMBAS MARCAM + UNDER 1,5 GOLS com ganhos m√©dios de 30 a 60% ao dia.</p>
    </div>
    
    <div class="vip-card">
      <div class="vip-icon">üìà</div>
      <h4>Hist√≥rico Completo e personalizado</h4>
      <p>Destrave sua banca com sinais premium selecionados e deixe tudo isso registrado para um controle profissional da sua banca.</p>
    </div>
    
    <div class="vip-card">
      <div class="vip-icon">üìä</div>
      <h4>Gest√£o de Banca Profissional</h4>
      <p>Ferramentas completas para controlar e proteger sua banca automaticamente.</p>
    </div>
    
    <div class="vip-card">
      <div class="vip-icon">üîí</div>
      <h4>Conte√∫do Exclusivo</h4>
      <p>Relat√≥rios COOMPLETOS, Calculadora autom√°tica de estrat√©gias, Acoompanhamentos de metas di√°rias, semanais, etc.</p>
    </div>
    
    <div class="vip-card">
      <div class="vip-icon">ü§ù</div>
      <h4>Suporte Priorit√°rio</h4>
      <p>Atendimento direto via WhatsApp ou TELEGRAM para tirar d√∫vidas e receber suporte profissiona direto com a Athena.</p>
    </div>

    <div class="vip-card">
  <div class="vip-icon">üìö</div>
  <h4>E-books & PDFs Exclusivos</h4>
  <p>Acesso a materiais completos e atualizados para apostadores profissionais, incluindo estrat√©gias, an√°lises e guias avan√ßados.</p>
</div>

  </div>
</section>
      <BR></BR>


<!-- ===== VIP FORM ===== -->
<form id="vipForm">
  <input type="text" id="nome" placeholder="Nome" required />
  <input type="text" id="whatsapp" placeholder="WhatsApp" required />
  <input type="email" id="email" placeholder="Email" required />
  <input type="number" id="banca" placeholder="Banca" required />
  <button type="submit">Enviar Pedido VIP</button>
</form>

<script>
const $ = (selector) => document.querySelector(selector);

// Substitua pelos seus dados do Ultramsg
const INSTANCE_ID = "instance152239";
const TOKEN = "c2rifn9gergl6818";
const NUMERO = "5551980448195"; // ex: 55XXXXXXXXXXX

$("#vipForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const nome = $("#nome").value;
  const whatsapp = $("#whatsapp").value;
  const email = $("#email").value;
  const banca = $("#banca").value;

  const message = `üìå Novo Pedido VIP\n\nNome: ${nome}\nWhatsApp: ${whatsapp}\nEmail: ${email}\nBanca: R$ ${banca}`;

  const formData = new URLSearchParams();
  formData.append("token", TOKEN);
  formData.append("to", NUMERO);
  formData.append("body", message);

  try {
    const response = await fetch(`https://api.ultramsg.com/${INSTANCE_ID}/messages/chat`, {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: formData.toString()
    });

    const data = await response.json();

    if (data.error) throw new Error(data.error);

    alert("‚úÖ Pedido VIP enviado com sucesso!");
    $("#vipForm").reset();

catch (err) {
  console.warn("Aguarde alguns segundos..."); // aviso mais amig√°vel
  //console.error("Erro no envio:", err); // opcional, s√≥ para debug no console
}

});
</script>

</script>

      <div id="vipStatus" class="muted" style="margin-top:8px;"></div>
    </section>
  </div>

 <!-- LADO DIRETO DO PAIN√âL -->
<aside class="right-panel">
  <div class="card">
    <h4>Resumo r√°pido</h4>
    <div class="result-box">
      <div><strong>Banca:</strong> R$ <span id="bankDisplayRight">0.00</span></div>
      <div><strong>Stake inicial:</strong> R$ <span id="baseStakeDisplayRight">0.00</span></div>
      <div><strong>Status VIP:</strong> <span id="vipFlagRight">GR√ÅTIS</span></div>
    </div>
  </div>

  <div class="card">
    <h4>Admin (local)</h4>
    <div class="muted">√Årea EXCLUSIVA para o ADM da plataforma.</div>
    <button id="openAdminBtn" class="small-btn">√Årea do Admin</button>
  </div>
</aside>

<!-- CONTE√öDOS -->
<main class="main-content">

  <!-- Dutching 2 sele√ß√µes: liberado -->
  <section id="dutching2" class="card card-section">
    <h3>Dutching 2 Sele√ß√µes</h3>
    <p>Conte√∫do liberado para todos os usu√°rios.</p>
  </section>

  <!-- Estrat√©gias VIP -->
  <section id="strategySection" class="card card-section locked-content" data-payment-link="https://seulinkdepagamento.com">
    <h3>Estrat√©gias VIP</h3>
    <p>Somente usu√°rios VIP podem ver este conte√∫do.</p>
  </section>

  <!-- Hist√≥rico VIP -->
  <section id="history" class="card card-section locked-content" data-payment-link="https://seulinkdepagamento.com">
    <h3>Hist√≥rico VIP</h3>
    <p>Somente usu√°rios VIP podem ver este conte√∫do.</p>
  </section>

  <!-- Benef√≠cios VIP -->
  <section id="vipBenefits" class="card card-section locked-content" data-payment-link="https://seulinkdepagamento.com">
    <h3>Benef√≠cios da √Årea VIP</h3>
    <p>Somente usu√°rios VIP podem ver este conte√∫do.</p>
  </section>

</main>


<!-- ==================== MODAL ADMIN ==================== -->
<div id="adminModal" class="card" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index:10000; width:600px; max-width:90%; padding:20px; background:#0b1a25; color:#fff; border-radius:8px; box-shadow:0 0 15px #000;">
  <button onclick="closeAdmin()" style="float:right; background:none; border:none; color:#fff; font-size:20px; cursor:pointer;">‚úï</button>
  <h3>Painel Admin (local)</h3>
  <div class="muted" style="color:#bfece2;">Aprova√ß√£o de cadastros VIP</div>
  <hr style="margin:10px 0; border-color:#bfece2;">
  <table id="adminPendingTable" style="width:100%; margin-top:10px; border-collapse:collapse;">
    <thead>
      <tr>
        <th style="border-bottom:1px solid #bfece2;">ID</th>
        <th style="border-bottom:1px solid #bfece2;">Nome</th>
        <th style="border-bottom:1px solid #bfece2;">WhatsApp</th>
        <th style="border-bottom:1px solid #bfece2;">Email</th>
        <th style="border-bottom:1px solid #bfece2;">Banca</th>
        <th style="border-bottom:1px solid #bfece2;">Data</th>
        <th style="border-bottom:1px solid #bfece2;">A√ß√µes</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div id="adminLog" style="background:#001318; color:#bfece2; padding:8px; height:120px; overflow:auto; margin-top:12px; border-radius:4px;"></div>
</div>

<!-- ==================== SCRIPT ADMIN ==================== -->
<script>
  // Atalho para document.querySelector
  const $ = (q) => document.querySelector(q);

  // Fun√ß√µes abrir/fechar modal
  function openAdmin() {
    const password = prompt("Digite a senha do admin:");
    if(password === "230698Rosa*"){ // Defina sua senha
      $("#adminModal").style.display = "block";
      loadPendingVIPs();
    } else {
      alert("Senha incorreta!");
    }
  }

  function closeAdmin() {
    $("#adminModal").style.display = "none";
  }

  $("#openAdminBtn").addEventListener("click", openAdmin);

  // Dados simulados de cadastros pendentes
  let pendingVIPs = [
    {id:1, nome:"Jo√£o", whatsapp:"99999-0000", email:"joao@mail.com", banca:"200", data:"26/11/2025"},
    {id:2, nome:"Maria", whatsapp:"98888-1111", email:"maria@mail.com", banca:"150", data:"25/11/2025"}
  ];

  function logAdmin(msg){
    const log = $("#adminLog");
    log.textContent += msg + "\n";
    log.scrollTop = log.scrollHeight;
  }

  function renderBank(){
    const vip = localStorage.getItem("athena_vip_status") === "approved" ? "VIP üîí" : "GR√ÅTIS";
    $("#vipFlagRight").textContent = vip;
  }

  function approveVIP(id){
    const index = pendingVIPs.findIndex(p => p.id === id);
    if(index !== -1){
      logAdmin("‚úÖ " + pendingVIPs[index].nome + " aprovado como VIP.");
      pendingVIPs.splice(index,1);
      localStorage.setItem("athena_vip_status","approved"); // marca VIP
      renderBank();
      loadPendingVIPs();
    }
  }

  function rejectVIP(id){
    const index = pendingVIPs.findIndex(p => p.id === id);
    if(index !== -1){
      logAdmin("‚ùå " + pendingVIPs[index].nome + " rejeitado.");
      pendingVIPs.splice(index,1);
      loadPendingVIPs();
    }
  }

  function loadPendingVIPs(){
    const tbody = $("#adminPendingTable tbody");
    tbody.innerHTML = "";
    pendingVIPs.forEach(p => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${p.id}</td>
        <td>${p.nome}</td>
        <td>${p.whatsapp}</td>
        <td>${p.email}</td>
        <td>${p.banca}</td>
        <td>${p.data}</td>
        <td>
          <button onclick="approveVIP(${p.id})" style="margin-right:5px;">Aprovar</button>
          <button onclick="rejectVIP(${p.id})">Rejeitar</button>
        </td>
      `;
      tbody.appendChild(tr);
    });
  }

  // Inicializa a flag VIP ao carregar
  document.addEventListener("DOMContentLoaded", () => {
    renderBank();
  });
</script>


<a href="https://wa.me/5551980448195?text=Quero%20saber%20sobre%20o%20VIP%20ATHENA" class="floating-whatsapp" target="_blank">
  <span class="wa-icon">üì±</span> <span class="wa-text">WHATSAPP</span>
</a>


<!-- ===== ADMIN MODAL ===== -->
<div id="adminModal" class="card" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index:10000; width:500px;">
  <button onclick="closeAdmin()" style="float:right;">‚úï</button>
  <h3>Painel Admin (local)</h3>
  <label>Supabase URL:</label><input type="text" id="adminSupabaseUrl">
  <label>Service Role Key:</label><input type="text" id="adminServiceKey">
  <button id="adminLoginBtn" class="small-btn">Login</button>
  <button id="adminLogoutBtn" class="small-btn" style="background:#ff3b3b">Logout</button>
  <hr>
  <h4>Pedidos pendentes</h4>
  <table id="adminPendingTable" style="width:100%;"><thead><tr><th>ID</th><th>E-mail</th><th>Nota</th><th>Data</th><th>A√ß√µes</th></tr></thead><tbody></tbody></table>
  <div id="adminLog" style="background:#001318; color:#bfece2; padding:8px; height:120px; overflow:auto; margin-top:12px;"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
// ===== CONFIG =====
const SUPABASE_URL = "https://mgsodtakdewveoyuyyjc.supabase.co";
const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1nc29kdGFrZGV3dmVveXV5eWpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTgyODAsImV4cCI6MjA3OTU3NDI4MH0.EzLtLKMDoRaHWCcwmor4ppM2vn6PGJfTmFOdduUmkXs";

const ULTRA_INSTANCE = "instance152239";
const ULTRA_TOKEN = "c2rifn9gergl6818";
const ADMIN_WHATSAPP = "+5551980448195";

let publicSupabaseClient = null;
function initPublicSupabase(){ if(!publicSupabaseClient){ publicSupabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY); console.log("Supabase ready"); } return publicSupabaseClient; }

const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));

/* ===== BANK ===== */
function readBank(){ return parseFloat(localStorage.getItem("athena_bank")||"0"); }
function saveBankLocal(v){ localStorage.setItem("athena_bank", Number(v).toFixed(2)); renderBank(); }
function readSplit(){ return localStorage.getItem("athena_split")||"conserv"; }
function saveSplit(s){ localStorage.setItem("athena_split", s); renderBank(); }
function renderBank(){
  const bank = readBank();
  $("#bankDisplay").textContent = bank.toFixed(2);
  $("#bankDisplayRight").textContent = bank.toFixed(2);
  const split = readSplit();
  const pct = split==="conserv"?0.01:0.015;
  $("#baseStakeDisplay").textContent = (bank*pct).toFixed(2);
  $("#baseStakeDisplayRight").textContent = (bank*pct).toFixed(2);
  $("#vipFlag").textContent = (localStorage.getItem("athena_vip_status")==="approved")?"VIP":"GR√ÅTIS";
  $("#vipFlagRight").textContent = (localStorage.getItem("athena_vip_status")==="approved")?"VIP":"GR√ÅTIS";
}

$("#saveBankBtn").addEventListener("click",()=>{
  const v=Number($("#bankInput").value||0);
  if(!v||v<=0){ alert("Informe banca v√°lida"); return; }
  saveSplit($("#bankSplit").value);
  saveBankLocal(v);
  alert(`Banca salva: R$ ${Number(v).toFixed(2)}`);
});

/* ===== STRATEGY LOGIC ===== */
function baseStakeFromBank(){ const bank=readBank(); const split=readSplit(); const pct=split==="conserv"?0.01:0.015; return Number((bank*pct).toFixed(2)); }
function computeRounds(strategy, base){ const rounds=[]; if(strategy==="both"){ let s=base; for(let i=1;i<=3;i++){ rounds.push({round:i, stake:Number(s.toFixed(2))}); s*=2; } } if(strategy==="over35"){ let s=base; for(let i=1;i<=4;i++){ rounds.push({round:i, stake:Number(s.toFixed(2))}); s*=1.5; } } if(strategy==="under15"){ let s=base; for(let i=1;i<=4;i++){ rounds.push({round:i, stake:Number(s.toFixed(2))}); s*=1.7; } } return rounds; }

$("#calcStratBtn").addEventListener("click",()=>{
  const strat=$("#strategySelect").value;
  const base=baseStakeFromBank();
  if(!base||base<=0){ alert("Defina sua banca e divis√£o antes"); return; }
  const rounds=computeRounds(strat, base);
  let html=`<div>Stake base: R$ ${base.toFixed(2)}</div><ul>`;
  rounds.forEach(r=>html+=`<li>Rodada ${r.round}: R$ ${r.stake.toFixed(2)}</li>`);
  html+="</ul>";
  $("#roundsBox").innerHTML=html;
  $("#stratMsg").textContent="Calculado. Escolha rodada do WIN ou registre LOSS.";
  const sel=$("#winRoundSelect");
  sel.innerHTML='<option value="">‚Äî selecione ‚Äî</option>';
  rounds.forEach(r=>{ const opt=document.createElement("option"); opt.value=r.round; opt.textContent=`Rod ${r.round} ‚Äî R$ ${r.stake.toFixed(2)}`; sel.appendChild(opt); });
  sessionStorage.setItem("athena_current_strat", JSON.stringify({strategy:strat, rounds}));
  sessionStorage.setItem("athena_current_roundIndex","0");
});

$("#resetStratBtn").addEventListener("click",()=>{
  sessionStorage.removeItem("athena_current_strat");
  sessionStorage.removeItem("athena_current_roundIndex");
  $("#roundsBox").innerHTML="Sequ√™ncia reiniciada.";
  $("#stratMsg").textContent="";
});

/* APPLY WIN / LOSS */
$("#applyWinRoundBtn").addEventListener("click",async()=>{
  const cur=JSON.parse(sessionStorage.getItem("athena_current_strat")||"null");
  if(!cur){ alert("Calcule as rodadas primeiro"); return; }
  const sel=Number($("#winRoundSelect").value||0);
  const winOdd=Number($("#winOdd").value||0);
  if(!sel||!winOdd||winOdd<=1){ alert("Selecione rodada e informe odd >1.0"); return; }
  const usedRounds=cur.rounds.slice(0,sel);
  const totalSpent=usedRounds.reduce((s,r)=>s+r.stake,0);
  const winningStake=cur.rounds[sel-1].stake;
  const totalReturn=winningStake*winOdd;
  const net=totalReturn-totalSpent;
  const bank=readBank();
  const newBank=Number((bank+net).toFixed(2));
  localStorage.setItem("athena_bank",Number(newBank).toFixed(2));
  renderBank();
  sessionStorage.removeItem("athena_current_strat");
  sessionStorage.removeItem("athena_current_roundIndex");
  $("#roundsBox").innerHTML=`WIN na rodada ${sel}. Lucro R$ ${net.toFixed(2)}.`;
  $("#stratMsg").textContent=`WIN aplicado ‚Äî banca R$ ${newBank.toFixed(2)}.`;
  try{ await pushHistory({strategy:cur.strategy, odd:winOdd, result:`WIN (rod ${sel})`, bankAfter:newBank}); }catch(e){ console.warn(e); }
});

$("#applyLossBtn").addEventListener("click",async()=>{
  const cur=JSON.parse(sessionStorage.getItem("athena_current_strat")||"null");
  if(!cur){ alert("Calcule as rodadas primeiro"); return; }
  let idx=Number(sessionStorage.getItem("athena_current_roundIndex")||0);
  if(idx>=cur.rounds.length){ alert("Sequ√™ncia esgotada ‚Äî recalcule"); return; }
  const round=cur.rounds[idx];
  const bank=readBank();
  const newBank=Number((bank-round.stake).toFixed(2));
  localStorage.setItem("athena_bank",Number(newBank).toFixed(2));
  renderBank();
  idx+=1;
  sessionStorage.setItem("athena_current_roundIndex",idx);
  if(idx>=cur.rounds.length){
    $("#roundsBox").innerHTML="Sequ√™ncia finalizada sem sucesso.";
    sessionStorage.removeItem("athena_current_strat");
    sessionStorage.removeItem("athena_current_roundIndex");
    $("#stratMsg").textContent="Sequ√™ncia finalizada (sem sucesso).";
  }else{
    $("#stratMsg").textContent=`LOSS aplicado. Pr√≥xima stake: R$ ${cur.rounds[idx].stake.toFixed(2)} (rod ${cur.rounds[idx].round}).`;
    let html=`<div>Stake base: R$ ${cur.rounds[0].stake.toFixed(2)}</div><ul>`;
    cur.rounds.forEach(r=>html+=`<li>Rodada ${r.round}: R$ ${r.stake.toFixed(2)}</li>`);
    html+="</ul>"; $("#roundsBox").innerHTML=html;
  }
  try{ await pushHistory({strategy:cur.strategy, odd:0, result:"LOSS", bankAfter:newBank}); }catch(e){ console.warn(e); }
});

/* ===== HISTORY ===== */
async function pushHistory(entry){
  const arr=JSON.parse(localStorage.getItem("athena_history")||"[]");
  arr.push({date:new Date().toLocaleString(), ...entry});
  localStorage.setItem("athena_history",JSON.stringify(arr));
  renderHistory();
}
function renderHistory(){
  const arr=JSON.parse(localStorage.getItem("athena_history")||"[]");
  const tbody=$("#historyTbody"); tbody.innerHTML="";
  arr.forEach(h=>{ const tr=document.createElement("tr"); tr.innerHTML=`<td>${h.date}</td><td>${h.strategy}</td><td>${h.odd}</td><td>${h.result}</td><td>R$ ${h.bankAfter}</td>`; tbody.appendChild(tr); });
}
$("#clearHistoryBtn").addEventListener("click",()=>{ localStorage.removeItem("athena_history"); renderHistory(); });

/* ===== VIP FORM ===== */
document.getElementById("vipForm").addEventListener("submit", async e => {
  e.preventDefault();
  // resto do c√≥digo...
});

  const dados={ nome:$("#nome").value, whatsapp:$("#whatsapp").value, email:$("#email").value, banca:$("#banca").value, status:"Novo pedido VIP recebido", criado_em:new Date().toISOString() };
  // SUPABASE
  try{ initPublicSupabase(); await publicSupabaseClient.from("cadastros").insert([dados]); }catch(e){ console.warn(e); }
  // WHATSAPP ADMIN
  const msgAdmin=`üì¢ NOVO CADASTRO VIP\n\nüë§ Nome: ${dados.nome}\nüì± WhatsApp: ${dados.whatsapp}\nüìß Email: ${dados.email}\nüí∞ Banca: R$${dados.banca}\nStatus: Novo pedido VIP recebido`;
  await fetch(`https://api.ultramsg.com/${ULTRA_INSTANCE}/messages/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:ULTRA_TOKEN,to:ADMIN_WHATSAPP,body:msgAdmin})});
  // WHATSAPP CLIENTE
  await fetch(`https://api.ultramsg.com/${ULTRA_INSTANCE}/messages/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:ULTRA_TOKEN,to:dados.whatsapp,body:"üî• Seu cadastro VIP foi recebido! Em breve voc√™ ser√° aprovado e adicionado ao grupo exclusivo."})});
  $("#vipStatus").textContent="Cadastro enviado com sucesso! Aguarde aprova√ß√£o.";
});

/* ===== ADMIN MODAL ===== */
function openAdmin(){ $("#adminModal").style.display="block"; }
function closeAdmin(){ $("#adminModal").style.display="none"; }
$("#openAdminBtn").addEventListener("click",openAdmin);

// ===== LISTAR CADASTROS PENDENTES =====
async function loadPendingVIPs() {
  initPublicSupabase();
  const { data, error } = await publicSupabaseClient.from("cadastros").select("*").eq("status","Novo pedido VIP recebido");
  const tbody = $("#adminPendingTable tbody");
  tbody.innerHTML = "";
  if(data) {
    data.forEach(item=>{
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${item.id}</td>
        <td>${item.email}</td>
        <td>${item.nome}</td>
        <td>${new Date(item.criado_em).toLocaleString()}</td>
        <td>
          <button class="small-btn" onclick="approveVIP(${item.id}, '${item.whatsapp}')">‚úÖ Aprovar</button>
          <button class="small-btn" data-danger onclick="rejectVIP(${item.id}, '${item.whatsapp}')">‚ùå Rejeitar</button>
        </td>
      `;
      tbody.appendChild(tr);
    });
  }
}

async function approveVIP(id, whatsapp){
  try {
    await publicSupabaseClient.from("cadastros").update({status:"approved"}).eq("id",id);
    localStorage.setItem("athena_vip_status","approved"); // libera VIP local
    updateVIPAreas();
    // WhatsApp aviso
    await fetch(`https://api.ultramsg.com/${ULTRA_INSTANCE}/messages/chat`,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({token:ULTRA_TOKEN,to:whatsapp,body:"üéâ Seu cadastro VIP foi aprovado! Aproveite os benef√≠cios exclusivos."})
    });
    alert(`VIP ID ${id} aprovado!`);
    loadPendingVIPs();
  } catch(e){ console.warn(e); }
}

async function rejectVIP(id, whatsapp){
  try {
    await publicSupabaseClient.from("cadastros").update({status:"rejected"}).eq("id",id);
    await fetch(`https://api.ultramsg.com/${ULTRA_INSTANCE}/messages/chat`,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({token:ULTRA_TOKEN,to:whatsapp,body:"‚ö†Ô∏è Seu cadastro VIP foi rejeitado. Contate o suporte para mais informa√ß√µes."})
    });
    alert(`VIP ID ${id} rejeitado!`);
    loadPendingVIPs();
  } catch(e){ console.warn(e); }
}

// Atualizar tabela quando abrir o modal
$("#openAdminBtn").addEventListener("click",()=>{ openAdmin(); loadPendingVIPs(); });


/* ===== INIT ===== */
renderBank(); renderHistory();
// ===== CONTROLE DE √ÅREAS PARA VIP =====
function updateVIPAreas() {
  const vipStatus = localStorage.getItem("athena_vip_status");
  
  // Se VIP, esconda propagandas e alertas
  if(vipStatus === "approved") {
    $$(".muted").forEach(el=>{
      if(el.textContent.includes("Mais sele√ß√µes dispon√≠veis") || el.textContent.includes("propaganda")) {
        el.style.display = "none";
      }
    });
  }
}
updateVIPAreas();

</script>
<script>
  // ======================
// VIP FORM
// ======================
$("#vipForm").addEventListener("submit", async e => {
  e.preventDefault();

  const dados = {
    nome: $("#nome").value,
    whatsapp: $("#whatsapp").value,
    email: $("#email").value,
    banca: $("#banca").value,
    status: "Novo pedido VIP recebido",
    criado_em: new Date().toISOString()
  };

  try {
    // Aqui voc√™ insere sua fun√ß√£o de envio, exemplo para supabase ou webhook
    await sendVIPData(dados);

    alert("Pedido VIP enviado com sucesso!");
    $("#vipForm").reset();
  } catch (err) {
    console.error(err);
    alert("Erro ao enviar pedido VIP.");
  }
});

// ======================
// CHECAR CONTE√öDO VIP
// ======================
function checkVIPContent(){
  const isVIP = localStorage.getItem("athena_vip_status") === "approved";
  document.getElementById("vipFlagRight").innerText = isVIP ? "VIP" : "GR√ÅTIS";

  const vipBlocks = document.querySelectorAll(".locked-content");

  vipBlocks.forEach(block => {
    if(isVIP){
      block.style.filter = "none";
      block.style.pointerEvents = "auto";
      block.style.userSelect = "auto";
      block.classList.remove("locked-content");
    } else {
      block.style.filter = "blur(4px)";
      block.style.pointerEvents = "none";
      block.style.userSelect = "none";

      // Adiciona clique no cadeado para pagamento
      block.addEventListener("click", function(){
        const link = block.dataset.paymentLink;
        window.open(link, "_blank");
      });
    }
  });
}

checkVIPContent();

// ======================
// ADMIN MODAL
// ======================
function openAdmin() {
  document.getElementById("adminModal").style.display = "block";
}

function closeAdmin() {
  document.getElementById("adminModal").style.display = "none";
}

document.getElementById("openAdminBtn").addEventListener("click", openAdmin);

</script>
</body>
</html>

